/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * User Manual available at https://docs.gradle.org/5.4/userguide/tutorial_java_projects.html
 */

plugins {
    id 'java'
    id 'com.gradle.build-scan' version '2.0.2'
    id 'org.springframework.boot' version '2.1.6.RELEASE'
    id 'io.spring.dependency-management' version '1.0.7.RELEASE'
    id "au.com.dius.pact" version "4.0.3"
}

repositories {
    // Use jcenter for resolving your dependencies.
    // You can declare any Maven/Ivy/file repository here.
    jcenter()
}

ext {
    set('pactVersion', "3.6.0")
}


dependencies {
    implementation 'org.springframework.boot:spring-boot-dependencies:2.1.6.RELEASE'
    implementation 'org.springframework.boot:spring-boot-starter-web'

    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    compile group: 'au.com.dius', name: 'pact-jvm-provider-gradle_2.12', version: '3.6.0'
    testImplementation "au.com.dius:pact-jvm-consumer-junit_2.12:${pactVersion}"
    testImplementation "au.com.dius:pact-jvm-provider-junit_2.12:${pactVersion}"
    testImplementation "au.com.dius:pact-jvm-provider-spring_2.12:${pactVersion}"
    testImplementation "au.com.dius:pact-jvm-consumer-java8_2.12:${pactVersion}"
}


pact {
    publish {
//        pactDirectory = "$rootDir/Pacts/Miku"
        pactDirectory = "$buildDir/pacts"
//        pactDirectory = "Pacts/Miku"

//        pactBrokerUrl = mybrokerUrl
//        pactBrokerUsername = mybrokerUser
//        pactBrokerPassword = mybrokerPassword

        // This is to local Pact Broker in Docker
//            pactBrokerUrl = "http://localhost"
    }
}